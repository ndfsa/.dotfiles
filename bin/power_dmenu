#!/bin/dash

dmenu_prompt()
{
    echo $1 | dmenu -i -p $2
}

confirm()
{
    case $(dmenu_prompt "No\nYes" "Sure?: ") in
        Yes) $1;;
    esac
}

case $(dmenu_prompt "Shutdown\nRestart\nSuspend\nLock" "Power: ") in
        Shutdown) confirm "exec systemctl poweroff";;
        Restart) confirm "exec systemctl reboot";;
        Suspend) confirm "exec systemctl suspend";;
        Lock) exec slock;;
esac
